<UserControl x:Class="PerfusionAnalyzer.Views.FramesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:PerfusionAnalyzer.ViewModels"
             xmlns:wf="clr-namespace:System.Windows.Forms;assembly=System.Windows.Forms"
             xmlns:wfi="clr-namespace:System.Windows.Forms.Integration;assembly=WindowsFormsIntegration"
             xmlns:glWpfControl="clr-namespace:OpenTK.Wpf;assembly=GLWpfControl">

    <Grid Margin="10" PreviewMouseWheel="UserControl_OnPreviewMouseWheel">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Orientation="Vertical" Grid.Column="0" HorizontalAlignment="Left" Width="350">
            <Button Content="Вибрати файли DICOM" Width="200" Height="30" Margin="0,0,0,10" Command="{Binding LoadDicomFileCommand}"/>
            <TextBlock Text="{Binding StatusMessage}" FontWeight="Bold" TextWrapping="Wrap"/>
        </StackPanel>

        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <glWpfControl:GLWpfControl
                x:Name="OpenTkControl"
                Render="OpenTkControl_OnRender"
                Grid.Row="0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"/>

            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0" VerticalAlignment="Center" >
                <TextBlock Text="{Binding CurrentFrameTimeDisplay}" 
                    FontSize="12" 
                    Foreground="Gray" 
                    VerticalAlignment="Center" 
                    Margin="0,0,10,0" />
                <Slider Width="200"
                    Minimum="0"
                    Maximum="{Binding MaxFrameIndex}"
                    Value="{Binding CurrentFrameIndex, Mode=TwoWay}"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    VerticalAlignment="Center" />
                <TextBlock Text="{Binding FrameInfo}" Margin="10,0" VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>